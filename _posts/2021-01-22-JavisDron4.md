---
layout: post
title: "아두이노 우노를 이용한 센서 작동 환경구성"
date: 2021-01-21
excerpt: "아두이노우노에 MPU6050, HMC5883 센서 작동 환경구성 "
project: true

comments: true
---

## 2021-01-20<br><br>
# 1.	MPU6050(자이로 가속도 센서)<br><br><br>
MPU6050센서는 자이로 가속도 센서로 아두이노 우노에 연결하여 가속도를 측정하기 위해 작동 환경을 구성하였다.<br><br>
## 1-1. 아두이노 우노와 센서의 pin 연결.<br><br>

<>

## 1-2. 라이브러리.<br><br>
-아래사이트에서 라이브러리를 참조하였다. 가속도 센서는 라이브러리 예제중 mpu6050_unifiedsensors 사용하였고 소스코드는 다음과 같다.<br>
소스코드, 라이브러리 참조 : https://blog.naver.com/eduino/221081288204<br><br>

```c
// Demo for getting individual unified sensor data from the MPU6050
#include <Adafruit_MPU6050.h>

Adafruit_MPU6050 mpu;
Adafruit_Sensor *mpu_temp, *mpu_accel, *mpu_gyro;

void setup(void) {
  Serial.begin(115200);
  while (!Serial)
    delay(10); // will pause Zero, Leonardo, etc until serial console opens

  Serial.println("Adafruit MPU6050 test!");

  if (!mpu.begin()) {
    Serial.println("Failed to find MPU6050 chip");
    while (1) {
      delay(10);
    }
  }

  Serial.println("MPU6050 Found!");
  mpu_temp = mpu.getTemperatureSensor();
  mpu_temp->printSensorDetails();

  mpu_accel = mpu.getAccelerometerSensor();
  mpu_accel->printSensorDetails();

  mpu_gyro = mpu.getGyroSensor();
  mpu_gyro->printSensorDetails();
}

void loop() {
  //  /* Get a new normalized sensor event */
  sensors_event_t accel;
  sensors_event_t gyro;
  sensors_event_t temp;
  mpu_temp->getEvent(&temp);
  mpu_accel->getEvent(&accel);
  mpu_gyro->getEvent(&gyro);

  Serial.print("\t\tTemperature ");
  Serial.print(temp.temperature);
  Serial.println(" deg C");

  /* Display the results (acceleration is measured in m/s^2) */
  Serial.print("\t\tAccel X: ");
  Serial.print(accel.acceleration.x);
  Serial.print(" \tY: ");
  Serial.print(accel.acceleration.y);
  Serial.print(" \tZ: ");
  Serial.print(accel.acceleration.z);
  Serial.println(" m/s^2 ");

  /* Display the results (rotation is measured in rad/s) */
  Serial.print("\t\tGyro X: ");
  Serial.print(gyro.gyro.x);
  Serial.print(" \tY: ");
  Serial.print(gyro.gyro.y);
  Serial.print(" \tZ: ");
  Serial.print(gyro.gyro.z);
  Serial.println(" radians/s ");
  Serial.println();

  delay(100);

  /*   serial plotter friendly format
  Serial.print(temp.temperature);
  Serial.print(",");

  Serial.print(accel.acceleration.x);
  Serial.print(","); Serial.print(accel.acceleration.y);
  Serial.print(","); Serial.print(accel.acceleration.z);
  Serial.print(",");

  Serial.print(gyro.gyro.x);
  Serial.print(","); Serial.print(gyro.gyro.y);
  Serial.print(","); Serial.print(gyro.gyro.z);
  Serial.println();
  delay(10);
  */
}
```
<br><br>

## 1-3 결과<br><br>
성공적으로 가속도를 측정함으로써 MPU6050 센서의 작동 환경을 구성하였다.<br><br>
<>
<br><br><br><br>

